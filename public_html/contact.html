<div class="row">
    <div class="section">
        <div class="">
            <h1>Comments</h1>
            <p>
                We love hearing your questions and comments!
            </p>
            <form class="form" onsubmit="validate(event, this)">
                <div class="row">
                    <label class="col col-3" for="firstname">First name</label>
                    <input class="col col-4" id="firstname" type="text" />
                </div>

                <div class="row">
                    <label class="col col-3" for="lastname">Last name</label>
                    <input class="col col-4" id="lastname" type="text" />
                </div>

                <div class="row">
                    <label class="col col-3" for="email">E-mail</label>
                    <input class="col col-4" id="email" type="text" />
                </div>

                <div class="row">
                    <label class="col col-3" for="phone">Phone number</label>
                    <input class="col col-4" id="phone" type="text" />
                </div>

                <div class="row">
                    <label class="col col-3" for="comment">Comment</label>
                    <textarea class="col col-4" id="comment"></textarea>
                </div>
                <div class="row">
                    <input class="btn btn-primary" type="submit" value="Send" />
                </div>
                <div class="row">
                    <div id="message-box" class="alert alert-danger hidden"></div>
                    <div id="success-box" class="alert alert-success hidden"></div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    $('#phone').on('input', function (e) {
        phone = $('#phone').val();
        if (phone.length == 4)
            $('#phone').val(phone + '-');
        else if (phone.length > 9)
            $('#phone').val(phone.substr(0, 9));
    });
    function validate(event, form) {
        firstname = form.firstname.value;
        lastname = form.lastname.value;
        email = form.email.value;
        phone = form.phone.value;
        comment = form.comment.value;

        is_valid = false;
        if (!firstname || !lastname || !email || !phone || !comment)
            $('#message-box').text('All fields are required.');
        else if (!/^[a-zA-Z Ò—·ÈÌÛ˙¡…Õ”⁄¸‹]+$/.test(firstname))
            $('#message-box').text('Please, enter a valid firstname.');
        else if (!/^[a-zA-Z Ò—·ÈÌÛ˙¡…Õ”⁄¸‹]+$/.test(lastname))
            $('#message-box').text('Please, enter a valid lastname.');
        else if (!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email))
            $('#message-box').text('Please, enter a valid email.');
        else if (!/^(2|6|7)\d{3}-\d{4}$/.test(phone))
            $('#message-box').text('Please, enter a valid phone number.');
        else
            is_valid = true;

        if (is_valid){
            $('#message-box').addClass('hidden');
            $('#success-box').text("Your comment was send! we'll write you back to your email.");
            $('#success-box').removeClass('hidden');
            form.reset();
        }
        else{
            $('#message-box').removeClass('hidden');            
            $('#success-box').addClass('hidden');
        }

        event.preventDefault();
    }
</script>